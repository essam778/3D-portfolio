import{r as t,q as j,j as e}from"./index-DCTAk8c4.js";import{u as g,C as b,P as M}from"./Preload-CRDg0bA7.js";import{O as w,C as y,u as C}from"./Loader-D1UQ9_i4.js";const E=t.forwardRef(({children:n,enabled:r=!0,speed:s=1,rotationIntensity:a=1,floatIntensity:l=1,floatingRange:o=[-.1,.1],autoInvalidate:c=!1,...m},u)=>{const i=t.useRef(null);t.useImperativeHandle(u,()=>i.current,[]);const x=t.useRef(Math.random()*1e4);return g(v=>{var f,h;if(!r||s===0)return;c&&v.invalidate();const d=x.current+v.clock.elapsedTime;i.current.rotation.x=Math.cos(d/4*s)/8*a,i.current.rotation.y=Math.sin(d/4*s)/8*a,i.current.rotation.z=Math.sin(d/4*s)/20*a;let p=Math.sin(d/4*s)/10;p=j.mapLinear(p,-.1,.1,(f=o==null?void 0:o[0])!==null&&f!==void 0?f:-.1,(h=o==null?void 0:o[1])!==null&&h!==void 0?h:.1),i.current.position.y=p*l,i.current.updateMatrix()}),t.createElement("group",m,t.createElement("group",{ref:i,matrixAutoUpdate:!1},n))}),L=({isMobile:n})=>{const r=C("desktop_pc/scene.gltf");return t.useEffect(()=>{r.scene.traverse(s=>{var a;s.isMesh&&((a=s.geometry)==null||a.center())})},[r]),e.jsxs("mesh",{children:[e.jsx("hemisphereLight",{intensity:2,groundColor:"black"}),e.jsx("pointLight",{intensity:3}),e.jsx("spotLight",{position:[-20,50,10],angle:.12,penumbra:1,intensity:1,castShadow:!0,"shadow-mapSize":1024}),e.jsx(E,{speed:2,rotationIntensity:.2,floatIntensity:1.5,floatingRange:[-.1,.1],children:e.jsx("primitive",{object:r.scene,scale:n?.5:.75,position:n?[0,-1.6,-1.2]:[0,-2.6,-1.5],rotation:n?[0,0,-.05]:[-.01,-.2,-.05]})})]})},S=()=>{const[n,r]=t.useState(!1),[s,a]=t.useState(!1);return t.useEffect(()=>{const l=window.matchMedia("(max-width:640px)");r(l.matches);const o=u=>{r(u.matches)};l.addEventListener("change",o);const c=new IntersectionObserver(([u])=>{u.isIntersecting&&(a(!0),c.disconnect())},{threshold:.1}),m=document.getElementById("computers-canvas-container");return m&&c.observe(m),()=>{l.removeEventListener("change",o),c.disconnect()}},[]),n?null:e.jsx("div",{id:"computers-canvas-container",className:"w-full h-full",children:s?e.jsxs(b,{frameloop:"demand",shadows:!0,camera:{position:[20,3,5],fov:25},gl:{preserveDrawingBuffer:!0},children:[e.jsxs(t.Suspense,{fallback:e.jsx(y,{}),children:[e.jsx(w,{enableZoom:!1,enableRotate:!0,maxPolarAngle:Math.PI/2,minPolarAngle:Math.PI/2}),e.jsx(L,{isMobile:n})]}),e.jsx(M,{all:!0})]}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx("div",{className:"loader"})})})};export{S as default};
